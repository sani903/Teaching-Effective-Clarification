import{p as e,w as f,y as x,D as T,R as S}from"./chunk-NISHYRIK-CgksP-ke.js";import{u as g,B as b}from"./brand-button-BLaTuvKj.js";import{I as s}from"./declaration-BLNM_M5s.js";import{S as C}from"./openhands-logo-B-HZ0Q7q.js";import{u as l}from"./useTranslation-BhtO8iYN.js";import{h as O}from"./handle-capture-consent-DZaBHqCI.js";import{o as w}from"./open-hands-axios-DsgPCc-0.js";import{M as j}from"./modal-backdrop-CfHRd2ER.js";import"./utils-C5iw9p3M.js";import"./module-CWLbpm_7.js";function E({onChange:o}){const{t}=l();return e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",onChange:o}),e.jsxs("span",{children:[t(s.TOS$ACCEPT)," ",e.jsx("a",{href:"https://www.all-hands.dev/tos",target:"_blank",rel:"noopener noreferrer",className:"underline underline-offset-2 text-blue-500 hover:text-blue-700",children:t(s.TOS$TERMS)})]})]})}const k=f(function(){const{t}=l(),d=x(),[p]=T(),[c,m]=S.useState(!1),i=p.get("redirect_url")||"/",{mutate:u,isPending:a}=g({mutationFn:async()=>(O(!0),w.post("/api/accept_tos",{redirect_url:i})),onSuccess:n=>{const r=n.data.redirect_url||i;r.startsWith("http://")||r.startsWith("https://")?window.location.href=r:d(r)},onError:()=>{window.location.href="/"}}),h=()=>{c&&!a&&u()};return e.jsx(j,{children:e.jsxs("div",{className:"border border-tertiary p-8 rounded-lg max-w-md w-full flex flex-col gap-6 items-center bg-base-secondary",children:[e.jsx(C,{width:68,height:46}),e.jsxs("div",{className:"flex flex-col gap-2 w-full items-center text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:t(s.TOS$ACCEPT_TERMS_OF_SERVICE)}),e.jsx("p",{className:"text-sm text-gray-500",children:t(s.TOS$ACCEPT_TERMS_DESCRIPTION)})]}),e.jsx(E,{onChange:()=>m(n=>!n)}),e.jsx(b,{isDisabled:!c||a,type:"button",variant:"primary",onClick:h,className:"w-full font-semibold",children:t(a?s.HOME$LOADING:s.TOS$CONTINUE)})]})})});export{k as default};
