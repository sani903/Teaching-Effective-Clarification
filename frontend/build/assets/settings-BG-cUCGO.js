import{p as e,z as g,r as m,w as h,G as j,v,O as S}from"./chunk-NISHYRIK-CgksP-ke.js";import{u as y}from"./use-config-BtaDlBUv.js";import{O as b}from"./option-service.api-L97_35Hu.js";import{q as x}from"./query-client-config-D_0Qd0_c.js";import{a as f,S as N,O as w}from"./settings-nav-BzeErX2Q.js";import{T as l}from"./typography-DvyHXuI5.js";import{I as p}from"./declaration-BLNM_M5s.js";import{u as d}from"./useTranslation-BhtO8iYN.js";import{c as u}from"./utils-C5iw9p3M.js";import{S as T}from"./close-_PwA9ZeD.js";import"./open-hands-axios-DsgPCc-0.js";import"./i18next-Lgj2Bm8L.js";import"./retrieve-axios-error-message-CYr77e_f.js";import"./custom-toast-handlers-B_1yfMGT.js";import"./index-DJ6Yt2gU.js";import"./infiniteQueryBehavior-D4OZgA3F.js";import"./server-process-BvykxQDk.js";import"./index-0urWFDHv.js";function A({isMobileMenuOpen:i,onToggleMenu:n}){const{t}=d();return e.jsxs("div",{className:"flex items-center justify-between mb-4 md:hidden",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{width:16,height:16}),e.jsx(l.H2,{children:t(p.SETTINGS$TITLE)})]}),e.jsx("button",{type:"button",onClick:n,className:"p-2 rounded-md bg-tertiary hover:bg-[#454545] transition-colors","aria-label":"Toggle settings menu",children:e.jsx("svg",{width:20,height:20,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:i?e.jsxs(e.Fragment,{children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):e.jsxs(e.Fragment,{children:[e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})})]})}function I({isMobileMenuOpen:i,onCloseMobileMenu:n,navigationItems:t}){const{t:s}=d();return e.jsxs(e.Fragment,{children:[i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:n}),e.jsxs("nav",{"data-testid":"settings-navbar",className:u("flex flex-col gap-6 transition-transform duration-300 ease-in-out","fixed inset-0 z-50 w-full bg-base-secondary p-4 transform md:transform-none",i?"translate-x-0":"-translate-x-full","md:relative md:translate-x-0 md:w-64 md:p-0 md:bg-transparent"),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 ml-1 sm:ml-4.5",children:[e.jsx(f,{width:16,height:16}),e.jsx(l.H2,{children:s(p.SETTINGS$TITLE)})]}),e.jsx("button",{type:"button",onClick:n,className:"md:hidden p-0.5 hover:bg-[#454545] rounded-md transition-colors cursor-pointer","aria-label":"Close navigation menu",children:e.jsx(T,{width:32,height:32})})]}),e.jsx("div",{className:"flex flex-col gap-2",children:t.map(({to:a,icon:o,text:r})=>e.jsxs(g,{end:!0,to:a,onClick:n,className:({isActive:c})=>u("flex items-center gap-3 p-1 sm:px-[14px] sm:py-2 rounded-md transition-colors",c?"bg-[#454545]":"hover:bg-[#454545]"),children:[o,e.jsx("div",{className:"flex items-center gap-1.5 min-w-0 flex-1",children:e.jsx(l.Text,{className:"text-[#A3A3A3] whitespace-nowrap",children:s(r)})})]},a))})]})]})}function M({children:i,navigationItems:n}){const[t,s]=m.useState(!1),a=()=>{s(!t)},o=()=>{s(!1)};return e.jsxs("div",{className:"flex flex-col h-full px-[14px] pt-8",children:[e.jsx(A,{isMobileMenuOpen:t,onToggleMenu:a}),e.jsxs("div",{className:"flex flex-1 overflow-hidden gap-10",children:[e.jsx(I,{isMobileMenuOpen:t,onCloseMobileMenu:o,navigationItems:n}),e.jsx("main",{className:"flex-1 overflow-auto custom-scrollbar-always",children:i})]})]})}const L=["/settings/user","/settings/billing","/settings/credits","/settings/api-keys"],W=async({request:i})=>{const n=new URL(i.url),{pathname:t}=n;let s=x.getQueryData(["config"]);return s||(s=await b.getConfig(),x.setQueryData(["config"],s)),!(s?.APP_MODE==="saas")&&L.includes(t)?j("/settings"):null};function k(){const{t:i}=d(),{data:n}=y(),t=v(),s=n?.APP_MODE==="saas",a=m.useMemo(()=>{const r=[];return s?r.push(...N):r.push(...w),r},[s]),o=m.useMemo(()=>{const r=a.find(c=>c.to===t.pathname);return r?r.text:"SETTINGS$NAV_LLM"},[a,t.pathname]);return e.jsx("main",{"data-testid":"settings-screen",className:"h-full",children:e.jsx(M,{navigationItems:a,children:e.jsxs("div",{className:"flex flex-col gap-6 h-full",children:[e.jsx(l.H2,{children:i(o)}),e.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar-always",children:e.jsx(S,{})})]})})})}const Y=h(k);export{W as clientLoader,Y as default};
