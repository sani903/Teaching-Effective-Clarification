import{a as P}from"./use-config-BtaDlBUv.js";import{O as b}from"./option-service.api-L97_35Hu.js";import{R as f,p as s}from"./chunk-NISHYRIK-CgksP-ke.js";import{I as c}from"./declaration-BLNM_M5s.js";import{m as v}from"./use-save-settings-C2NDO2vm.js";import{c as h,P as T}from"./utils-C5iw9p3M.js";import{c as w}from"./index-0urWFDHv.js";import{u as A}from"./useTranslation-BhtO8iYN.js";import{a as D,l as g}from"./chunk-S6H5EOGR-BBckzTk7.js";function N(i){return null}N.getCollectionNode=function*(l){let{children:t,title:u,items:n}=l;yield{type:"section",props:l,hasChildNodes:!0,rendered:u,"aria-label":l["aria-label"],*childNodes(){if(typeof t=="function"){if(!n)throw new Error("props.children was a function but props.items is missing");for(let r of n)yield{type:"item",value:r,renderer:t}}else{let r=[];f.Children.forEach(t,o=>{r.push({type:"item",element:o})}),yield*r}}}};let $=N;var k=$,x=k;const V=async()=>({models:await b.getModels(),agents:await b.getAgents(),securityAnalyzers:await b.getSecurityAnalyzers()}),le=()=>P({queryKey:["ai-config-options"],queryFn:V,staleTime:1e3*60*5,gcTime:1e3*60*15}),H=i=>!Number.isNaN(Number(i)),I=["openhands","anthropic","openai","mistral","lemonade","clarifai"],F=["o3-mini-2025-01-31","o3-2025-04-16","o3","o4-mini-2025-04-16","claude-3-5-sonnet-20241022","claude-3-7-sonnet-20250219","claude-sonnet-4-20250514","claude-sonnet-4-5-20250929","claude-haiku-4-5-20251001","claude-opus-4-20250514","claude-opus-4-1-20250805","gemini-2.5-pro","o4-mini","deepseek-chat","devstral-small-2505","devstral-small-2507","devstral-medium-2507","kimi-k2-0711-preview","qwen3-coder-480b","gpt-5-2025-08-07","gpt-5-mini-2025-08-07"],z=["gpt-5-2025-08-07","gpt-5-mini-2025-08-07","gpt-4o","gpt-4o-mini","gpt-4.1","gpt-4.1-2025-04-14","o3","o3-2025-04-16","o4-mini","o4-mini-2025-04-16","codex-mini-latest"],K=["claude-3-5-sonnet-20240620","claude-3-5-sonnet-20241022","claude-3-5-haiku-20241022","claude-3-7-sonnet-20250219","claude-sonnet-4-20250514","claude-sonnet-4-5-20250929","claude-haiku-4-5-20251001","claude-opus-4-20250514","claude-opus-4-1-20250805"],q=["devstral-small-2507","devstral-medium-2507","devstral-small-2505"],C=["claude-sonnet-4-20250514","claude-sonnet-4-5-20250929","claude-haiku-4-5-20251001","gpt-5-2025-08-07","gpt-5-mini-2025-08-07","claude-opus-4-20250514","claude-opus-4-1-20250805","gemini-2.5-pro","o3","o4-mini","devstral-small-2507","devstral-medium-2507","devstral-small-2505","kimi-k2-0711-preview","qwen3-coder-480b"],se="openhands/claude-sonnet-4-20250514",U=i=>i[1]&&i[1][0]&&H(i[1][0]),_=i=>{let l="/",t=i.split(l);if(t.length===1&&(l=".",t=i.split(l),U(t)&&(t=[t.join(l)])),t.length===1)return z.includes(t[0])?{provider:"openai",model:t[0],separator:"/"}:K.includes(t[0])?{provider:"anthropic",model:t[0],separator:"/"}:q.includes(t[0])?{provider:"mistral",model:t[0],separator:"/"}:C.includes(t[0])?{provider:"openhands",model:t[0],separator:"/"}:{provider:"",model:i,separator:""};const[u,...n]=t;return{provider:u,model:n.join(l),separator:l}},ie=i=>{const l={};return i.forEach(t=>{const{separator:u,provider:n,model:r}=_(t);if(n==="anthropic"&&u===".")return;const o=n||"other";l[o]||(l[o]={separator:u,models:[]}),l[o].models.push(r)}),l},R=w("",{variants:{size:{default:"text-xs",settings:"text-sm text-[#A3A3A3] font-normal leading-5.5"},linkColor:{default:"",white:"text-white"}},defaultVariants:{size:"default",linkColor:"default"}});function G({testId:i,text:l,linkText:t,href:u,suffix:n,size:r,linkColor:o,className:a,linkTextClassName:p,suffixClassName:E}){return s.jsxs("p",{"data-testid":i,className:h(R({size:r}),a),children:[l," ",s.jsx("a",{href:u,rel:"noreferrer noopener",target:"_blank",className:h("underline underline-offset-2",R({size:r,linkColor:o}),p),children:t}),n&&s.jsx("span",{className:E,children:n})]})}function ae({isDisabled:i,models:l,currentModel:t,onChange:u,wrapperClassName:n,labelClassName:r}){const[,o]=f.useState(null),[a,p]=f.useState(null),[E,L]=f.useState(null),O=()=>a==="openhands"?C:F;f.useEffect(()=>{if(t){const{provider:e,model:m}=_(t);o(t),p(e),L(m)}},[t]);const y=e=>{p(e),L(null);const m=l[e]?.separator||"";o(e+m)},M=e=>{const m=l[a||""]?.separator||"";let S=a+m+e;a==="openai"&&(S=e),o(S),L(e),u?.(S)},j=()=>{p(null),o(null)},{t:d}=A();return s.jsxs("div",{className:h("flex flex-col md:flex-row w-[full] max-w-[680px] justify-between gap-4 md:gap-[46px]",n),children:[s.jsxs("fieldset",{className:"flex flex-col gap-2.5 w-full",children:[s.jsx("label",{className:h("text-sm",r),children:d(c.LLM$PROVIDER)}),s.jsxs(D,{"data-testid":"llm-provider-input",isRequired:!0,isVirtualized:!1,name:"llm-provider-input",isDisabled:i,"aria-label":d(c.LLM$PROVIDER),placeholder:d(c.LLM$SELECT_PROVIDER_PLACEHOLDER),isClearable:!1,onSelectionChange:e=>{e?.toString()&&y(e.toString())},onInputChange:e=>!e&&j(),defaultSelectedKey:a??void 0,selectedKey:a,classNames:{popoverContent:"bg-tertiary rounded-xl border border-[#717888]"},inputProps:{classNames:{inputWrapper:"bg-tertiary border border-[#717888] h-10 w-full rounded-sm p-2 placeholder:italic"}},children:[s.jsx(x,{title:d(c.MODEL_SELECTOR$VERIFIED),children:I.filter(e=>l[e]).map(e=>s.jsx(g,{"data-testid":`provider-item-${e}`,children:v(e)},e))}),Object.keys(l).some(e=>!I.includes(e))?s.jsx(x,{title:d(c.MODEL_SELECTOR$OTHERS),children:Object.keys(l).filter(e=>!I.includes(e)).map(e=>s.jsx(g,{children:v(e)},e))}):null]})]}),a==="openhands"&&s.jsx(G,{testId:"openhands-account-help",text:d(c.SETTINGS$NEED_OPENHANDS_ACCOUNT),linkText:d(c.SETTINGS$CLICK_HERE),href:T.PRODUCTION,size:"settings",linkColor:"white"}),s.jsxs("fieldset",{className:"flex flex-col gap-2.5 w-full",children:[s.jsx("label",{className:h("text-sm",r),children:d(c.LLM$MODEL)}),s.jsxs(D,{"data-testid":"llm-model-input",isRequired:!0,isVirtualized:!1,name:"llm-model-input","aria-label":d(c.LLM$MODEL),placeholder:d(c.LLM$SELECT_MODEL_PLACEHOLDER),isClearable:!1,onSelectionChange:e=>{e?.toString()&&M(e.toString())},isDisabled:i||!a,selectedKey:E,defaultSelectedKey:E??void 0,classNames:{popoverContent:"bg-tertiary rounded-xl border border-[#717888]"},inputProps:{classNames:{inputWrapper:"bg-tertiary border border-[#717888] h-10 w-full rounded-sm p-2 placeholder:italic"}},children:[s.jsx(x,{title:d(c.MODEL_SELECTOR$VERIFIED),children:O().filter(e=>l[a||""]?.models?.includes(e)).map(e=>s.jsx(g,{children:e},e))}),l[a||""]?.models?.some(e=>!O().includes(e))?s.jsx(x,{title:d(c.MODEL_SELECTOR$OTHERS),children:l[a||""]?.models.filter(e=>!O().includes(e)).map(e=>s.jsx(g,{"data-testid":`model-item-${e}`,children:e},e))}):null]})]})]})}export{se as D,G as H,ae as M,_ as e,ie as o,le as u};
