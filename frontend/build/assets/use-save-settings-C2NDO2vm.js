import{u as s}from"./open-hands-axios-DsgPCc-0.js";import{u as l}from"./brand-button-BLaTuvKj.js";import{D as E}from"./module-CWLbpm_7.js";import{u as A,D as _,S as u}from"./use-settings-y2Eq7ITW.js";const o={openai:"OpenAI",azure:"Azure",azure_ai:"Azure AI Studio",vertex_ai:"VertexAI",palm:"PaLM",gemini:"Gemini",anthropic:"Anthropic",sagemaker:"AWS SageMaker",bedrock:"AWS Bedrock",mistral:"Mistral AI",anyscale:"Anyscale",databricks:"Databricks",ollama:"Ollama",perlexity:"Perplexity AI",friendliai:"FriendliAI",groq:"Groq",fireworks_ai:"Fireworks AI",cloudflare:"Cloudflare Workers AI",deepinfra:"DeepInfra",ai21:"AI21",replicate:"Replicate",voyage:"Voyage AI",openrouter:"OpenRouter",openhands:"OpenHands",lemonade:"Lemonade",clarifai:"Clarifai"},d=e=>Object.keys(o).includes(e)?o[e]:e,p=e=>{const r=Object.entries(o).find(([,a])=>a===e);return r?r[0]:e},S=async e=>{const r={llm_model:e.LLM_MODEL,llm_base_url:e.LLM_BASE_URL,agent:e.AGENT||_.AGENT,language:e.LANGUAGE||_.LANGUAGE,confirmation_mode:e.CONFIRMATION_MODE,security_analyzer:e.SECURITY_ANALYZER,llm_api_key:e.llm_api_key===""?"":e.llm_api_key?.trim()||void 0,remote_runtime_resource_factor:e.REMOTE_RUNTIME_RESOURCE_FACTOR,enable_default_condenser:e.ENABLE_DEFAULT_CONDENSER,condenser_max_size:e.CONDENSER_MAX_SIZE??_.CONDENSER_MAX_SIZE,enable_sound_notifications:e.ENABLE_SOUND_NOTIFICATIONS,user_consents_to_analytics:e.user_consents_to_analytics,provider_tokens_set:e.PROVIDER_TOKENS_SET,mcp_config:e.MCP_CONFIG,enable_proactive_conversation_starters:e.ENABLE_PROACTIVE_CONVERSATION_STARTERS,enable_solvability_analysis:e.ENABLE_SOLVABILITY_ANALYSIS,search_api_key:e.SEARCH_API_KEY?.trim()||"",max_budget_per_task:e.MAX_BUDGET_PER_TASK,git_user_name:e.GIT_USER_NAME?.trim()||_.GIT_USER_NAME,git_user_email:e.GIT_USER_EMAIL?.trim()||_.GIT_USER_EMAIL};await u.saveSettings(r)},C=()=>{const e=s(),{data:r}=A();return l({mutationFn:async a=>{const n={...r,...a};if(a.MCP_CONFIG&&r?.MCP_CONFIG!==a.MCP_CONFIG){const i=!!a.MCP_CONFIG,t=a.MCP_CONFIG?.sse_servers?.length||0,c=a.MCP_CONFIG?.stdio_servers?.length||0;E.capture("mcp_config_updated",{has_mcp_config:i,sse_servers_count:t,stdio_servers_count:c})}await S(n)},onSuccess:async()=>{await e.invalidateQueries({queryKey:["settings"]})},meta:{disableToast:!0}})};export{p as g,d as m,C as u};
