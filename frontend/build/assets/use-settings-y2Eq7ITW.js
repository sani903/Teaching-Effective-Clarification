import{b as r,a as n}from"./use-config-BtaDlBUv.js";import{R as S}from"./chunk-NISHYRIK-CgksP-ke.js";import{D as A}from"./module-CWLbpm_7.js";import{o as E}from"./open-hands-axios-DsgPCc-0.js";import{u as i}from"./use-is-authed-CJdzFdqm.js";class I{static async getSettings(){const{data:s}=await E.get("/api/settings");return s}static async saveSettings(s){return(await E.post("/api/settings",s)).status===200}}const t={LLM_MODEL:"openhands/claude-sonnet-4-20250514",LLM_BASE_URL:"",AGENT:"CodeActAgent",LANGUAGE:"en",LLM_API_KEY_SET:!1,SEARCH_API_KEY_SET:!1,CONFIRMATION_MODE:!1,SECURITY_ANALYZER:"llm",REMOTE_RUNTIME_RESOURCE_FACTOR:1,PROVIDER_TOKENS_SET:{},ENABLE_DEFAULT_CONDENSER:!0,CONDENSER_MAX_SIZE:120,ENABLE_SOUND_NOTIFICATIONS:!1,USER_CONSENTS_TO_ANALYTICS:!1,ENABLE_PROACTIVE_CONVERSATION_STARTERS:!1,ENABLE_SOLVABILITY_ANALYSIS:!1,SEARCH_API_KEY:"",IS_NEW_USER:!0,MAX_BUDGET_PER_TASK:null,EMAIL:"",EMAIL_VERIFIED:!0,MCP_CONFIG:{sse_servers:[],stdio_servers:[],shttp_servers:[]},GIT_USER_NAME:"openhands",GIT_USER_EMAIL:"openhands@all-hands.dev"},o=async()=>{const e=await I.getSettings();return{LLM_MODEL:e.llm_model,LLM_BASE_URL:e.llm_base_url,AGENT:e.agent,LANGUAGE:e.language,CONFIRMATION_MODE:e.confirmation_mode,SECURITY_ANALYZER:e.security_analyzer,LLM_API_KEY_SET:e.llm_api_key_set,SEARCH_API_KEY_SET:e.search_api_key_set,REMOTE_RUNTIME_RESOURCE_FACTOR:e.remote_runtime_resource_factor,PROVIDER_TOKENS_SET:e.provider_tokens_set,ENABLE_DEFAULT_CONDENSER:e.enable_default_condenser,CONDENSER_MAX_SIZE:e.condenser_max_size??t.CONDENSER_MAX_SIZE,ENABLE_SOUND_NOTIFICATIONS:e.enable_sound_notifications,ENABLE_PROACTIVE_CONVERSATION_STARTERS:e.enable_proactive_conversation_starters,ENABLE_SOLVABILITY_ANALYSIS:e.enable_solvability_analysis,USER_CONSENTS_TO_ANALYTICS:e.user_consents_to_analytics,SEARCH_API_KEY:e.search_api_key||"",MAX_BUDGET_PER_TASK:e.max_budget_per_task,EMAIL:e.email||"",EMAIL_VERIFIED:e.email_verified,MCP_CONFIG:e.mcp_config,GIT_USER_NAME:e.git_user_name||t.GIT_USER_NAME,GIT_USER_EMAIL:e.git_user_email||t.GIT_USER_EMAIL,IS_NEW_USER:!1}},O=()=>{const e=r(),{data:s}=i(),_=n({queryKey:["settings"],queryFn:o,retry:(T,a)=>a.status!==404,refetchOnWindowFocus:!1,staleTime:1e3*60*5,gcTime:1e3*60*15,enabled:!e&&!!s,meta:{disableToast:!0}});return S.useEffect(()=>{_.isFetched&&_.data?.LLM_API_KEY_SET&&A.capture("user_activated")},[_.data?.LLM_API_KEY_SET,_.isFetched]),_.error?.status===404?{data:t,error:_.error,isError:_.isError,isLoading:_.isLoading,isFetching:_.isFetching,isFetched:_.isFetched,isSuccess:_.isSuccess,status:_.status,fetchStatus:_.fetchStatus,refetch:_.refetch}:_};export{t as D,I as S,O as u};
